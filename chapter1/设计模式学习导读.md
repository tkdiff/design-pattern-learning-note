## 《设计模式之美》学习笔记 （—）

> 本文是 《设计模式之美》 - 设计模式学习导读（3讲）的学习笔记。
----

### 01 | 为什么说每个程序员都要尽早地学习并掌握设计模式相关知识？

- 应对面试中的设计模式相关问题；

- 告别写被人吐槽的烂代码

- 提高复杂代码的设计和开发能力

- 让读源码、学框架事半功倍

- 为你的职业发展做铺垫

----

### 02 | 从哪些维度评判代码质量的好坏？如何具备写出高质量代码的能力？

#### 代码质量评价标准
##### 1. 可维护性 （maintainability）

- 代码易维护：是指在不破坏原有代码设计、不引入新的 bug 的情况下，能够**快速地修改或者添加代码**；
- 代码不易维护：是指修改或者添加代码需要冒着极大的引入新 bug 的风险，并且需要花费很长的时间才能完成。

##### 2. 可读性 （readability）

> “Any fool can write code that a computer can understand. Good programmers write code that humans can understand.”   --- Martin Fowler
>
> “任何傻瓜都会编写计算机能理解的代码。好的程序员能够编写人能够理解的代码。”

如何评价代码的可读性：
- 是否符合编码规范
- 命名是否达意
- 注释是否详尽
- 函数是否长短合适
- 模块划分是否清晰
- 是否符合高内聚低耦合

如何检测代码的可读性 --- **code review**

##### 3. 可扩展性 （extensibility）

代码的可扩展性表示，我们在不修改或者少量修改原有代码的情况下，通过扩展的方式添加新的功能代码。

设计原则： **对修改关闭，对扩展开放**

##### 4. 灵活性 （flexibility）

- 易扩展
- 易复用
- 易用

##### 5. 简洁性 （simplicity）

- 代码简单
- 逻辑清晰

**思从深而行从简，真正的高手能云淡风轻地用最简单的方式解决最复杂的问题。这也是一个编程老手和编程新手的本质区别之一**。

设计原则： **Keep it Simple, Stupid**

##### 6. 可复用性 （reusability）

尽量减少重复代码的编写，复用已有的代码。

设计原则： **DRY (Don't Repeat Yourself)**

##### 7. 可测试性 （testability）

代码可测试性的好快，能从侧面非常准确地反应代码质量的好坏

#### 如何才能写出高质量的代码

掌握编程方法论：
- 面向对象设计思想
- 设计原则
- 设计模式
- 编程规范
- 重构技巧

-----

### 03 | 面向对象、设计原则、设计模式、编程规范、重构，这五者有何关系？

#### 面向对象

面向对象编程因为其具有丰富的特性（封装、抽象、继承、多态），可以实现很多复杂的设计思路，是很多设计原则、设计模式编码实现的基础。

面向对象的 7 大知识点：
- 面向对象的四大特性：封装、抽象、继承、多态
- 面向对象编程和面向过程编程的区别和联系
- 面向对象分析、面向对象设计、面向对象编程
- 接口和抽象类的区别以及各自的应用场景
- 基于接口而非实现编程的设计思想
- 多用组合少用继承的设计思想
- 面向过程的贫血模式和面向对象的充血模式

#### 设计原则

设计原则是指导我们代码设计的一些经验总结。

几个常用的设计原则：
- SOLID 原则 - SRP 单一职责原则
- SOLID 原则 - OCP 开闭原则
- SOLID 原则 - LSP 里氏替换原则
- SOLID 原则 - ISP 接口隔离原则
- SOLID 原则 - DIP 依赖倒置原则
- DRY 原则、KISS 原则、YAGNI 原则、LOD 法则

#### 设计模式

23 种设计模式分类如下：

![](https://seven-blog-2019.oss-cn-beijing.aliyuncs.com/设计模式2.png)

#### 编程规范

编程规范主要解决的是代码的可读性问题。

#### 代码重构

代码重构是保持代码质量不下降的有效手段。

- 重构的目的（WHY）、对象（WHAT）、时机（WHEN）、方法（HOW）
- 保证重构不出错的技术手段：单元测试和代码的可测试性
- 两种不同规模的重构：大重构（大规模高层次）和小重构（小规模低层次）

#### 五者之间的联系

- **面向对象编程**因为其具有丰富的特性（封装、抽象、继承、多态），可以实现很多复杂的设计思路，是很多设计原则、设计模式等编码实现的基础。
- **设计原则**是指导我们代码设计的经验总结。对于某些场景下，是否应该应用某种设计模式，具有指导意义。
- **设计模式**是针对软件开发中经常遇到的一些设计问题，总结出来的一套解决方案或者设计思路。应用设计模式的主要目的是提高代码的可扩展性。从抽象程度上来讲，设计原则比设计模式更抽象。设计模式更加具体、更加可执行。
- **编程规范**主要解决的是代码的可读性问题。编码规范相对于设计原则、设计模式、更加具体、更加偏重代码细节、更加可落地。持续的小重构依赖的理论基础主要就是编程规范。
- **重构**作为保持代码质量不下降的有效手段，利用的就是面向对象、设计原则、设计模式、编码规范这些理论。

### 总结

![](https://seven-blog-2019.oss-cn-beijing.aliyuncs.com/编程方法论.png)
